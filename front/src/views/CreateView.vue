<template>
  <v-rows class="d-flex justify-center  ">
    <v-col cols="4" class="d-flex justify-center flex-column align-center" v-if="progress">
      Loading
      <v-progress-linear
        rounded
        indeterminate
        color="#04e"
      ></v-progress-linear>
    </v-col>
  </v-rows>
  <section class="px-3 mt-3">
      <FormLeave/>
  </section>
</template>

<script>

// Components
import axios from '../axios-http';
import FormLeave from '../components/FormLeave.vue';

export default ({
  components: {
    FormLeave,
  },
  data: () => ({
    progress: false,
    leaves: [],
    successed: false,
    items: ['Username', 'Email', 'Request To'],
    users: []
  }),
  methods: {
    createLeave(item) {
      this.leaves.push(item);
      axios.post(this.url, item)
      .then((response) => {
        console.log(response.data);
        axios.post('user/email'+this.$route.parms.userId)
      })
    },
    getData() {
      axios.get('users')
      .then((response) => {
        this.users = response.data
      })
    },
    emitProgress(status) {
      this.progress = status;
    }
  },
  mounted() {
    this.getData();
  }

});
</script>
